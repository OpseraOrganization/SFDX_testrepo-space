<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>50.0</apiVersion>
    <assignments>
        <name>Add_opp_ship_entity_to_new_collection</name>
        <label>Add opp ship entity to new collection</label>
        <locationX>468</locationX>
        <locationY>2846</locationY>
        <assignmentItems>
            <assignToReference>OPPShipsettocreate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>OPPShipsettocreateEntity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>LoopCaseLineItem</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_values_for_Opp_Ship_set</name>
        <label>Assign values for Opp Ship set</label>
        <locationX>468</locationX>
        <locationY>2726</locationY>
        <assignmentItems>
            <assignToReference>OPPShipsettocreateEntity.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Case_Opportunity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OPPShipsettocreateEntity.Ship_Set_Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LoopCaseLineItem.Product_Number__r.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OPPShipsettocreateEntity.Ship_Set_Source__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Case</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OPPShipsettocreate</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Add_opp_ship_entity_to_new_collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_ship_set_values</name>
        <label>Store ship set values</label>
        <locationX>292</locationX>
        <locationY>2270</locationY>
        <assignmentItems>
            <assignToReference>Ship_Set_Product</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loopshipset.Ship_Set_Product__r.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loopshipset</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>updatecreopp</name>
        <label>updatecreopp</label>
        <locationX>578</locationX>
        <locationY>998</locationY>
        <assignmentItems>
            <assignToReference>creopp</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_new_OPP_ID_from_Case</targetReference>
        </connector>
    </assignments>
    <constants>
        <name>OppTypemessage</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Please Enter Opportunity Type</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Check_Case_has_OPRO</name>
        <label>Check Case has OPRO</label>
        <locationX>358</locationX>
        <locationY>1334</locationY>
        <defaultConnector>
            <targetReference>If_Case_line_Item_greater_than_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Case_without_OPRO</name>
            <conditionLogic>1 OR (2 AND 3)</conditionLogic>
            <conditions>
                <leftValueReference>OPROID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OPROID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>creopp</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_DR_Approvers_List</targetReference>
            </connector>
            <label>Case without OPRO</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Case_has_OPP</name>
        <label>Check if Case has OPP</label>
        <locationX>358</locationX>
        <locationY>398</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_OPP_already_present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case_Opportunity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Case_has_OPRO</targetReference>
            </connector>
            <label>If OPP already present</label>
        </rules>
        <rules>
            <name>Case_Opp_Type_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case_Opportunity_Type</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Header2</targetReference>
            </connector>
            <label>Case Opp Type Null</label>
        </rules>
        <rules>
            <name>Case_Program_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case_program</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Header3</targetReference>
            </connector>
            <label>Case Program null</label>
        </rules>
        <rules>
            <name>Case_OPP_Type_and_Program_not_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case_Opportunity_Type</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Case_program</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Case_Opportunity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_OPP_RecordType</targetReference>
            </connector>
            <label>Case OPP Type and Program not null,OPP null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_OPP_Ship_Set_collection_size</name>
        <label>Check OPP Ship Set collection size</label>
        <locationX>204</locationX>
        <locationY>3158</locationY>
        <defaultConnector>
            <targetReference>Header4</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>OPP_Ship_set_size_greater_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OPPShipsettocreate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_OPP_Ship_set</targetReference>
            </connector>
            <label>OPP Ship set size greater 0</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_product_number_in_ship_set_collection</name>
        <label>Check product number in ship set collection</label>
        <locationX>380</locationX>
        <locationY>2606</locationY>
        <defaultConnector>
            <targetReference>Assign_values_for_Opp_Ship_set</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Product_number_not_present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Ship_Set_Product</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>LoopCaseLineItem.Product_Number__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>LoopCaseLineItem</targetReference>
            </connector>
            <label>Product number not present</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_Case_line_Item_greater_than_0</name>
        <label>If Case line Item greater than 0</label>
        <locationX>358</locationX>
        <locationY>1910</locationY>
        <defaultConnector>
            <targetReference>Header4</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CLI_count_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Caselineitemrecords</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetOpportunity_Ship_Set</targetReference>
            </connector>
            <label>CLI count&gt;0</label>
        </rules>
    </decisions>
    <description>proposalvaluenumber formula update</description>
    <formulas>
        <name>OPPClosedate</name>
        <dataType>Date</dataType>
        <expression>{!$Flow.CurrentDate}+10</expression>
    </formulas>
    <formulas>
        <name>Proposalvaluenumber</name>
        <dataType>Number</dataType>
        <expression>VALUE({!Proposalvaluewithnocomma})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>Proposalvaluewithnocomma</name>
        <dataType>String</dataType>
        <expression>IF(OR(CONTAINS({!Case_Estimated_Proposal_Value},&quot;,&quot;),CONTAINS({!Case_Estimated_Proposal_Value},&quot;$&quot;)),SUBSTITUTE(SUBSTITUTE({!Case_Estimated_Proposal_Value},&quot;,&quot;,&quot;&quot;),&quot;$&quot;,&quot;&quot;),{!Case_Estimated_Proposal_Value})</expression>
    </formulas>
    <interviewLabel>CreateOppOpro {!$Flow.CurrentDateTime}</interviewLabel>
    <label>CreateOppOpro</label>
    <loops>
        <name>LoopCaseLineItem</name>
        <label>LoopCaseLineItem</label>
        <locationX>204</locationX>
        <locationY>2486</locationY>
        <collectionReference>Caselineitemrecords</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_product_number_in_ship_set_collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_OPP_Ship_Set_collection_size</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loopshipset</name>
        <label>Loopshipset</label>
        <locationX>204</locationX>
        <locationY>2150</locationY>
        <collectionReference>Storeshipset</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Store_ship_set_values</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>LoopCaseLineItem</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_OPP</name>
        <label>Create OPP</label>
        <locationX>578</locationX>
        <locationY>638</locationY>
        <assignRecordIdToReference>OPPID</assignRecordIdToReference>
        <connector>
            <targetReference>GET_OPP</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>Case_Accountid</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CBT_Team_Tier_3__c</field>
            <value>
                <elementReference>Case_CBT_Team</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CBT_Tier_2__c</field>
            <value>
                <elementReference>Case_CBT</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Certification_Requirements__c</field>
            <value>
                <elementReference>Case_Certification_Requirements</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CloseDate</field>
            <value>
                <elementReference>OPPClosedate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Contract_Type__c</field>
            <value>
                <elementReference>Case_Contract_Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>Case_Program_Description</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Case_program</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Platform__c</field>
            <value>
                <elementReference>Case_PlatformID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Prime_Sub__c</field>
            <value>
                <elementReference>Case_Contractor_Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Program__c</field>
            <value>
                <elementReference>Case_program</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Proposal_Coordinator_Assigned_Date__c</field>
            <value>
                <elementReference>Case_End_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Proposal_Due_Date__c</field>
            <value>
                <elementReference>Case_Proposal_Response_due_date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RFP_Number__c</field>
            <value>
                <elementReference>Case_Solicitation_Number</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RFP_Receipt_Date__c</field>
            <value>
                <elementReference>Case_Received_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RFP_Sent_Date__c</field>
            <value>
                <elementReference>Case_Customer_issue_date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>OPPRecordTypeID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBU__c</field>
            <value>
                <elementReference>Case_SBU</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Prospecting</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Tech_Sales_Product_Area__c</field>
            <value>
                <stringValue>AT</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordCreates>
    <recordCreates>
        <name>Create_OPP_Ship_set</name>
        <label>Create OPP Ship set</label>
        <locationX>72</locationX>
        <locationY>3278</locationY>
        <connector>
            <targetReference>Header4</targetReference>
        </connector>
        <inputReference>OPPShipsettocreate</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_OPRO</name>
        <label>Create OPRO</label>
        <locationX>226</locationX>
        <locationY>1574</locationY>
        <assignRecordIdToReference>NEWOPROID</assignRecordIdToReference>
        <connector>
            <targetReference>UpdateCasewithOPROID</targetReference>
        </connector>
        <inputAssignments>
            <field>Defined_Due_Date_by__c</field>
            <value>
                <elementReference>Case_defined_due_date_by</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description__c</field>
            <value>
                <elementReference>Case_Program_Description</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>Case_Opportunity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Pricing_Analyst__c</field>
            <value>
                <elementReference>DRAL_Pricing</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Pricing_Manager__c</field>
            <value>
                <elementReference>DRAL_Pricing</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Proposal_Content_Type__c</field>
            <value>
                <elementReference>Case_Proposal_Content</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Proposal_Coordinator__c</field>
            <value>
                <elementReference>Case_New_Proposal_Manager1</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Proposal_Due_Date__c</field>
            <value>
                <elementReference>Case_Proposal_Response_due_date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Proposal_Status__c</field>
            <value>
                <stringValue>Backlog (in Queue)</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RFP_Receipt_Date__c</field>
            <value>
                <elementReference>Case_Customer_issue_date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Request_Type__c</field>
            <value>
                <elementReference>Case_Request_Type_Opp</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site__c</field>
            <value>
                <elementReference>Case_Plant</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Solicitation_Number__c</field>
            <value>
                <elementReference>Case_Solicitation_Number</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Total_Contract_Value_BAFO__c</field>
            <value>
                <elementReference>Proposalvaluenumber</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity_Proposal__c</object>
    </recordCreates>
    <recordLookups>
        <name>get_case_fields</name>
        <label>get case fields</label>
        <locationX>358</locationX>
        <locationY>158</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Case_Line_Item</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordid</elementReference>
            </value>
        </filters>
        <object>Case</object>
        <outputAssignments>
            <assignToReference>Case_Accountid</assignToReference>
            <field>AccountId</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_CBT_Team</assignToReference>
            <field>CBT_Team__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_CBT</assignToReference>
            <field>CBT__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Certification_Requirements</assignToReference>
            <field>Certification_Requirements__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Contract_Type</assignToReference>
            <field>Contract_Type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Contractor_Status</assignToReference>
            <field>Contractor_Status__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Customer_issue_date</assignToReference>
            <field>Customer_issue_date__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_defined_due_date_by</assignToReference>
            <field>Defined_Due_Date_by__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_End_Date</assignToReference>
            <field>End_Date__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Estimated_Proposal_Value</assignToReference>
            <field>Estimated_Proposal_Value__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_New_Proposal_Manager1</assignToReference>
            <field>New_Proposal_Manager1__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>OPROID</assignToReference>
            <field>Opportunity_Proposal__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Opportunity_Type</assignToReference>
            <field>Opportunity_Type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Opportunity</assignToReference>
            <field>Opportunity__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Plant</assignToReference>
            <field>Plant__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_PlatformID</assignToReference>
            <field>Platform__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Program_Description</assignToReference>
            <field>Program_Description__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_program</assignToReference>
            <field>Program__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Proposal_Content</assignToReference>
            <field>Proposal_Content__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Proposal_Response_due_date</assignToReference>
            <field>Proposal_Response_due_date__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Received_Date</assignToReference>
            <field>Received_Date__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Request_Type_Opp</assignToReference>
            <field>Request_Type_Opp__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_SBU</assignToReference>
            <field>SBU__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Case_Solicitation_Number</assignToReference>
            <field>Solicitation_Number__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Case_Line_Item</name>
        <label>Get Case Line Item</label>
        <locationX>358</locationX>
        <locationY>278</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_if_Case_has_OPP</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Number__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordid</elementReference>
            </value>
        </filters>
        <object>Case_Line_Item__c</object>
        <outputReference>Caselineitemrecords</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Product_Number__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_DR_Approvers_List</name>
        <label>Get DR_Approvers_List</label>
        <locationX>226</locationX>
        <locationY>1454</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_OPRO</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CBT__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case_CBT</elementReference>
            </value>
        </filters>
        <filters>
            <field>SBU__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case_SBU</elementReference>
            </value>
        </filters>
        <object>DR_Approvers_List__c</object>
        <outputAssignments>
            <assignToReference>DRAL_Pricing</assignToReference>
            <field>Pricing__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_new_OPP_ID_from_Case</name>
        <label>Get new OPP ID from Case</label>
        <locationX>578</locationX>
        <locationY>1118</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Case_has_OPRO</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordid</elementReference>
            </value>
        </filters>
        <object>Case</object>
        <outputAssignments>
            <assignToReference>Case_Opportunity</assignToReference>
            <field>Opportunity__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>GET_OPP</name>
        <label>GET OPP</label>
        <locationX>578</locationX>
        <locationY>758</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_OPP_on_Case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OPPID</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputAssignments>
            <assignToReference>OPP_Opportunity_Number</assignToReference>
            <field>Opportunity_Number__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>OPP_OWNER</assignToReference>
            <field>OwnerId</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_OPP_RecordType</name>
        <label>Get OPP RecordType</label>
        <locationX>578</locationX>
        <locationY>518</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_OPP</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case_Opportunity_Type</elementReference>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>OPPRecordTypeID</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>GetOpportunity_Ship_Set</name>
        <label>GetOpportunity_Ship_Set</label>
        <locationX>204</locationX>
        <locationY>2030</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loopshipset</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Case_Opportunity</elementReference>
            </value>
        </filters>
        <object>Opportunity_Ship_Set__c</object>
        <outputReference>Storeshipset</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Ship_Set_Product__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Update_OPP_on_Case</name>
        <label>Update OPP on Case</label>
        <locationX>578</locationX>
        <locationY>878</locationY>
        <connector>
            <targetReference>updatecreopp</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordid</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Opportunity_Number__c</field>
            <value>
                <elementReference>OPP_Opportunity_Number</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity_Owner__c</field>
            <value>
                <elementReference>OPP_OWNER</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>OPPID</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateCasewithOPROID</name>
        <label>UpdateCasewithOPROID</label>
        <locationX>226</locationX>
        <locationY>1694</locationY>
        <connector>
            <targetReference>If_Case_line_Item_greater_than_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordid</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Opportunity_Proposal__c</field>
            <value>
                <elementReference>NEWOPROID</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <screens>
        <name>Header2</name>
        <label>Header</label>
        <locationX>50</locationX>
        <locationY>518</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>OPPTYPE2</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(255, 0, 0); font-size: 18px;&quot;&gt;Please enter Opportunity Type&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Header3</name>
        <label>Header</label>
        <locationX>314</locationX>
        <locationY>518</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>EnterProgram</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(255, 0, 0); font-family: Arial, Helvetica, sans-serif; font-size: 18px; background-color: rgb(248, 248, 248);&quot;&gt;&lt;span class=&quot;ql-cursor&quot;&gt;ï»¿&lt;/span&gt; Please&amp;nbsp;Enter&amp;nbsp;Program&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Header4</name>
        <label>Header4</label>
        <locationX>358</locationX>
        <locationY>3590</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Edit_screen</name>
            <extensionName>c:NavigatetoOPPfromCase</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>recid</name>
                <value>
                    <elementReference>Case_Opportunity</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>Case_Opportunity</assignToReference>
                <name>recid</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>232</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>get_case_fields</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>Case_Accountid</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_CBT</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_CBT_Team</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Certification_Requirements</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Contract_Type</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Contractor_Status</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Customer_issue_date</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_defined_due_date_by</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_End_Date</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Estimated_Proposal_Value</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_New_Proposal_Manager1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Opportunity</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Case_Opportunity_Type</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Plant</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Platform</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Platform__c</objectType>
    </variables>
    <variables>
        <name>Case_PlatformID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_program</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Program_Description</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Proposal_Content</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Proposal_Response_due_date</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Received_Date</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Request_Type</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Request_Type_Opp</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_SBU</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Case_Solicitation_Number</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Caselineitemrecords</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case_Line_Item__c</objectType>
    </variables>
    <variables>
        <name>CaseProgram</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>creopp</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>DRAL_Pricing</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>NEWOPROID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OPP_Opportunity_Number</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OPP_OWNER</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OPPID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OPPRecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OPPShipsetcollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Ship_Set__c</objectType>
    </variables>
    <variables>
        <name>OPPShipsettocreate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Ship_Set__c</objectType>
    </variables>
    <variables>
        <name>OPPShipsettocreateEntity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Ship_Set__c</objectType>
    </variables>
    <variables>
        <name>OPROID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Product_Number</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case_Line_Item__c</objectType>
    </variables>
    <variables>
        <name>Productnumber</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product2</objectType>
    </variables>
    <variables>
        <name>recordid</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Request_Type</name>
        <dataType>Picklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Ship_Set_Product</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Shipsetvalues</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Storeshipset</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Ship_Set__c</objectType>
    </variables>
    <variables>
        <name>Total_Contract_Value_BAFO</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
</Flow>
