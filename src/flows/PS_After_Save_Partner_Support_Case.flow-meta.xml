<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Information_Required_Reminder_for_Ticket_Owner_48hr</name>
        <label>Information Required Reminder for Ticket Owner 48hr</label>
        <locationX>2360</locationX>
        <locationY>408</locationY>
        <actionName>Case.PS_Information_Required_Reminder_for_Ticket_Owner_48hr_EN</actionName>
        <actionType>emailAlert</actionType>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>PS_Feedback_Request_EN</name>
        <label>PS Feedback Request EN</label>
        <locationX>578</locationX>
        <locationY>2928</locationY>
        <actionName>Case.PS_Feedback_Request_EN</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_Check_Issue_Reported_By_Field_Is_Populated</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>PS_Re_Create_Share_Records_on_Owner_Change</name>
        <label>Re Create Share Records on Owner Change</label>
        <locationX>776</locationX>
        <locationY>3816</locationY>
        <actionName>PS_PartnerSupportApplicationUtility</actionName>
        <actionType>apex</actionType>
        <inputParameters>
            <name>caseNew</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>PS_Re_share_Record_on_Issue_Reported_by_field_change</name>
        <label>Re share Record on Issue Reported by field change</label>
        <locationX>776</locationX>
        <locationY>3480</locationY>
        <actionName>PS_PartnerSupportApplicationUtility</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>PS_Check_for_OwnerId_Change</targetReference>
        </connector>
        <inputParameters>
            <name>caseNew</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>caseOld</name>
            <value>
                <elementReference>CaseOld</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>PS_Send_Acknowledgement_Email_ES</name>
        <label>Send Acknowledgement Email ES</label>
        <locationX>50</locationX>
        <locationY>528</locationY>
        <actionName>Case.PS_Ticket_Acknowledgement_ES</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_SupportTicketShareApexAction</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <description>If the status of the case is closed send the closed email.</description>
        <name>PS_Send_Closed_Email</name>
        <label>Send Closed Email</label>
        <locationX>842</locationX>
        <locationY>1752</locationY>
        <actionName>Case.PS_Ticket_Closed_EN</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_Check_if_Survey_Invitation_Exists</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <description>If the case status is rejected then send the regret email to the end-user.</description>
        <name>PS_Send_Regret_Email</name>
        <label>Send Regret Email</label>
        <locationX>842</locationX>
        <locationY>1200</locationY>
        <actionName>Case.PS_Regret_EN</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_Is_case_Closed</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <description>Send the status update to the user.</description>
        <name>Ps_Send_Status_Update_Email</name>
        <label>Send Status Update Email</label>
        <locationX>842</locationX>
        <locationY>648</locationY>
        <actionName>Case.PS_Status_Update_EN</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_Is_case_Rejected</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>PS_SupportTicketShareApexAction</name>
        <label>Support Ticket Share Apex Action</label>
        <locationX>182</locationX>
        <locationY>744</locationY>
        <actionName>PS_PartnerSupportApplicationUtility</actionName>
        <actionType>apex</actionType>
        <inputParameters>
            <name>caseNew</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Reminder_for_Ticket_Owner_48hr</name>
        <label>Reminder for Ticket Owner 48hr</label>
        <locationX>2096</locationX>
        <locationY>408</locationY>
        <actionName>Case.PS_Reminder_for_Ticket_Owner_48hr_EN</actionName>
        <actionType>emailAlert</actionType>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Reminder_for_Ticket_Owner_96hr</name>
        <label>Reminder for Ticket Owner 96hr</label>
        <locationX>2888</locationX>
        <locationY>408</locationY>
        <actionName>Case.PS_Reminder_for_Ticket_Owner_96hr_EN</actionName>
        <actionType>emailAlert</actionType>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <description>Send an Acknowledgement email to the record creator and owner.</description>
        <name>Send_Acknowledgment_Email</name>
        <label>Send Acknowledgment Email</label>
        <locationX>314</locationX>
        <locationY>528</locationY>
        <actionName>Case.PS_Ticket_Acknowledgement_EN</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_SupportTicketShareApexAction</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Send_Closed_Email_ES</name>
        <label>Send Closed Email ES</label>
        <locationX>578</locationX>
        <locationY>1752</locationY>
        <actionName>Case.PS_Ticket_Closed_ES</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_Check_if_Survey_Invitation_Exists</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Send_Regret_Email_ES</name>
        <label>Send Regret Email ES</label>
        <locationX>578</locationX>
        <locationY>1200</locationY>
        <actionName>Case.PS_Regret_ES</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_Is_case_Closed</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Send_Status_Update_Email_ES</name>
        <label>Send Status Update Email ES</label>
        <locationX>578</locationX>
        <locationY>648</locationY>
        <actionName>Case.PS_Status_Update_ES</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PS_Is_case_Rejected</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Survey_Reminder_7day</name>
        <label>Survey Reminder 7day</label>
        <locationX>3416</locationX>
        <locationY>408</locationY>
        <actionName>Case.PS_Survey_Reminder_7day_EN</actionName>
        <actionType>emailAlert</actionType>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <apiVersion>53.0</apiVersion>
    <assignments>
        <description>This was done to overcome a existing know salesforce issue on Flows preventing directly passing Record Prior to a Apex Class</description>
        <name>Assign_Record_Prior_to_Variable</name>
        <label>Assign Record Prior to Variable</label>
        <locationX>776</locationX>
        <locationY>3360</locationY>
        <assignmentItems>
            <assignToReference>CaseOld</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>PS_Re_share_Record_on_Issue_Reported_by_field_change</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>If the status is &quot;assigned&quot; or &quot;Pending Requester’s input&quot; from the last 48 hours send an email notification to the case owner and GSS Spoc as a reminder.</description>
        <name>Check_Status</name>
        <label>Check Status</label>
        <locationX>2360</locationX>
        <locationY>288</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Assigned_Status</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Assigned</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ps_stop_pb</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reminder_for_Ticket_Owner_48hr</targetReference>
            </connector>
            <label>Assigned Status</label>
        </rules>
        <rules>
            <name>Pending_Requester_s_input_Status</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending Requester’s input</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ps_stop_pb</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Information_Required_Reminder_for_Ticket_Owner_48hr</targetReference>
            </connector>
            <label>Pending Requester’s input Status</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Status_Solution_Provided</name>
        <label>Check Status Solution Provided</label>
        <locationX>1700</locationX>
        <locationY>288</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Solution_Provided</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Solution Provided</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ps_stop_pb</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Change_Status_to_Close</targetReference>
            </connector>
            <label>Solution Provided</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if it is a newly created case.</description>
        <name>Is_a_New_Case</name>
        <label>Is a New Case</label>
        <locationX>743</locationX>
        <locationY>288</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>New_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ps_stop_pb</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Check_Language_0_0</targetReference>
            </connector>
            <label>New Case</label>
        </rules>
        <rules>
            <name>Working_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ps_stop_pb</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Is_Status_Changed_with_Comment</targetReference>
            </connector>
            <label>Working Case</label>
        </rules>
    </decisions>
    <decisions>
        <name>PS_Check_for_OwnerId_Change</name>
        <label>Check for OwnerId Change</label>
        <locationX>908</locationX>
        <locationY>3696</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Owner_has_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.OwnerId</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Re_Create_Share_Records_on_Owner_Change</targetReference>
            </connector>
            <label>Owner has Changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>PS_Check_if_Survey_Invitation_Exists</name>
        <label>Check if Survey Invitation Exists</label>
        <locationX>710</locationX>
        <locationY>1968</locationY>
        <defaultConnector>
            <targetReference>PS_Check_Issue_Reported_By_Field_Is_Populated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PS_Survey_Invitation_Does_not_Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CH_Survey_Invitation__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Get_the_Survey_Record</targetReference>
            </connector>
            <label>Survey Invitation Does not Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>PS_Check_Issue_Reported_By_Field_Is_Populated</name>
        <label>Check Issue Reported By Field Is Populated</label>
        <locationX>908</locationX>
        <locationY>3240</locationY>
        <defaultConnector>
            <targetReference>PS_Check_for_OwnerId_Change</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PS_Issue_Reported_By_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Issue_Reported_By__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.Issue_Reported_By__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Record_Prior_to_Variable</targetReference>
            </connector>
            <label>Issue Reported By Populated</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check the communication Language on the case.</description>
        <name>PS_Check_Language_0</name>
        <label>Check Language</label>
        <locationX>710</locationX>
        <locationY>528</locationY>
        <defaultConnector>
            <targetReference>Ps_Send_Status_Update_Email</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>English</defaultConnectorLabel>
        <rules>
            <name>PS_Spanish_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PS_Communication_Language__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Spanish</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Status_Update_Email_ES</targetReference>
            </connector>
            <label>Spanish</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check the communication Language on the case.</description>
        <name>PS_Check_Language_0_0</name>
        <label>Check Language</label>
        <locationX>182</locationX>
        <locationY>408</locationY>
        <defaultConnector>
            <targetReference>Send_Acknowledgment_Email</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>English</defaultConnectorLabel>
        <rules>
            <name>PS_Spanish_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PS_Communication_Language__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Spanish</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Send_Acknowledgement_Email_ES</targetReference>
            </connector>
            <label>Spanish</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check the communication Language on the case.</description>
        <name>PS_Check_Language_1</name>
        <label>Check Language</label>
        <locationX>710</locationX>
        <locationY>1080</locationY>
        <defaultConnector>
            <targetReference>PS_Send_Regret_Email</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>English</defaultConnectorLabel>
        <rules>
            <name>PS_Spanish_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PS_Communication_Language__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Spanish</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Regret_Email_ES</targetReference>
            </connector>
            <label>Spanish</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check the communication Language on the case.</description>
        <name>PS_Check_Language_2</name>
        <label>Check Language</label>
        <locationX>710</locationX>
        <locationY>1632</locationY>
        <defaultConnector>
            <targetReference>PS_Send_Closed_Email</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>English</defaultConnectorLabel>
        <rules>
            <name>PS_Spanish_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PS_Communication_Language__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Spanish</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Closed_Email_ES</targetReference>
            </connector>
            <label>Spanish</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if the status of the case is Closed.</description>
        <name>PS_Is_case_Closed</name>
        <label>Is case Closed</label>
        <locationX>908</locationX>
        <locationY>1512</locationY>
        <defaultConnector>
            <targetReference>PS_Check_Issue_Reported_By_Field_Is_Populated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PS_Closed</name>
            <conditionLogic>2 AND 1</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Check_Language_2</targetReference>
            </connector>
            <label>Closed</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if the status of the case is Rejected.</description>
        <name>PS_Is_case_Rejected</name>
        <label>Is case Rejected</label>
        <locationX>908</locationX>
        <locationY>960</locationY>
        <defaultConnector>
            <targetReference>PS_Is_case_Closed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PS_Rejected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Check_Language_1</targetReference>
            </connector>
            <label>Rejected</label>
        </rules>
    </decisions>
    <decisions>
        <description>If the status of the case is changed and the comment is updated then an email alert should be triggered to the issue reporter.</description>
        <name>PS_Is_Status_Changed_with_Comment</name>
        <label>Is Status Changed with Comment</label>
        <locationX>908</locationX>
        <locationY>408</locationY>
        <defaultConnector>
            <targetReference>PS_Is_case_Rejected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PS_Status_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.Status</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Comment__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.Comment__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Comment__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PS_Check_Language_0</targetReference>
            </connector>
            <label>Status Changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Status_Assigned</name>
        <label>Status Assigned</label>
        <locationX>3020</locationX>
        <locationY>288</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Assigned</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Assigned</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ps_stop_pb</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reminder_for_Ticket_Owner_96hr</targetReference>
            </connector>
            <label>Assigned</label>
        </rules>
    </decisions>
    <decisions>
        <name>Survey_Responded</name>
        <label>Survey Responded</label>
        <locationX>3548</locationX>
        <locationY>288</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Responded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CH_Survey_Invitation__r.ResponseStatus</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ps_stop_pb</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Survey_Reminder_7day</targetReference>
            </connector>
            <label>Responded</label>
        </rules>
    </decisions>
    <description>Hard-Coded Record Type ID at Start note and removed recurring record-type Check.</description>
    <formulas>
        <name>InvitationExpiryDateTime</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime}+30</expression>
    </formulas>
    <formulas>
        <description>If a case is a new case</description>
        <name>IsNew</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <name>Survey_Invitation_Name</name>
        <dataType>String</dataType>
        <expression>&apos;Invitation_&apos;+{!$Record.CaseNumber}+&apos;_&apos;+TEXT({!$Flow.CurrentDate})</expression>
    </formulas>
    <formulas>
        <name>Survey_Subject_Name</name>
        <dataType>String</dataType>
        <expression>&apos;Survey_Subject_For_&apos;+{!$Record.CaseNumber}</expression>
    </formulas>
    <interviewLabel>After Save Partner Support Case {!$Flow.CurrentDateTime}</interviewLabel>
    <label>After Save Partner Support Case</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_Survey_Invitation_Share_Record</name>
        <label>Create Survey Invitation Share Record</label>
        <locationX>578</locationX>
        <locationY>2568</locationY>
        <connector>
            <targetReference>PS_Get_Invitation_Link</targetReference>
        </connector>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>SurveyInvitationId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>PS_Partner_Support_GroupId</elementReference>
            </value>
        </inputAssignments>
        <object>SurveyInvitationShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>PS_Create_Survey_Invitation</name>
        <label>Create Survey Invitation</label>
        <locationX>578</locationX>
        <locationY>2328</locationY>
        <assignRecordIdToReference>SurveyInvitationId</assignRecordIdToReference>
        <connector>
            <targetReference>Get_Partner_Support_Public_Group</targetReference>
        </connector>
        <inputAssignments>
            <field>CommunityId</field>
            <value>
                <elementReference>PS_PartnerCommunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>InviteExpiryDateTime</field>
            <value>
                <elementReference>InvitationExpiryDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Survey_Invitation_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OptionsAllowGuestUserResponse</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Support_Ticket__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SurveyId</field>
            <value>
                <elementReference>SurveyId</elementReference>
            </value>
        </inputAssignments>
        <object>SurveyInvitation</object>
    </recordCreates>
    <recordLookups>
        <name>Get_Partner_Support_Public_Group</name>
        <label>Get Partner Support Public Group</label>
        <locationX>578</locationX>
        <locationY>2448</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Survey_Invitation_Share_Record</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Regular</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>PS_Partner_Support</stringValue>
            </value>
        </filters>
        <object>Group</object>
        <outputAssignments>
            <assignToReference>PS_Partner_Support_GroupId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>PS_Get_Invitation_Link</name>
        <label>Get Invitation Link</label>
        <locationX>578</locationX>
        <locationY>2688</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>PS_Update_the_Case_Invitaion_Link_and_Link_Survey_Invitation</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>SurveyInvitationId</elementReference>
            </value>
        </filters>
        <object>SurveyInvitation</object>
        <outputAssignments>
            <assignToReference>SurveyInvitationLink</assignToReference>
            <field>InvitationLink</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>PS_Get_Nokia_Partner_Community_Id</name>
        <label>Get Nokia Partner Community Id</label>
        <locationX>578</locationX>
        <locationY>2208</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>PS_Create_Survey_Invitation</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Nokia Partner Portal</stringValue>
            </value>
        </filters>
        <object>Network</object>
        <outputAssignments>
            <assignToReference>PS_PartnerCommunityId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>PS_Get_the_Survey_Record</name>
        <label>Get the Survey Record</label>
        <locationX>578</locationX>
        <locationY>2088</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>PS_Get_Nokia_Partner_Community_Id</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>partner_support_feedback_survey</stringValue>
            </value>
        </filters>
        <object>Survey</object>
        <outputAssignments>
            <assignToReference>SurveyId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <name>PS_Change_Status_to_Close</name>
        <label>Change Status to Close</label>
        <locationX>1568</locationX>
        <locationY>408</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Solution Provided</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>PS_Update_the_Case_Invitaion_Link_and_Link_Survey_Invitation</name>
        <label>Update the Case Invitaion Link and Link Survey Invitation</label>
        <locationX>578</locationX>
        <locationY>2808</locationY>
        <connector>
            <targetReference>PS_Feedback_Request_EN</targetReference>
        </connector>
        <inputAssignments>
            <field>CH_Invitation_Link__c</field>
            <value>
                <elementReference>SurveyInvitationLink</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CH_Survey_Invitation__c</field>
            <value>
                <elementReference>SurveyInvitationId</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>2019</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Is_a_New_Case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>0123h0000015YakAAE</stringValue>
            </value>
        </filters>
        <object>Case</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>BodyforEmail</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;Survey Link : {!$Record.CH_InvitationLink__c}&lt;/p&gt;</text>
    </textTemplates>
    <variables>
        <name>CaseOld</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>PS_Partner_Support_GroupId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>PS_PartnerCommunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SurveyId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SurveyInvitationId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SurveyInvitationLink</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
